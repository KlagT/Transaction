## Общий процесс работы системы

1. **Инициация платежа**:
   Пользователь вводит **сумму** и выбирает **валюту** в веб-интерфейсе. После этого нажимает кнопку **"Оплатить"**.

2. **Обработка платежа**:
   После нажатия кнопки "Оплатить" данные платежа проходят через следующие этапы обработки:
   
   - **Validation Service**:
     Проверяет корректность данных платежа, включая валидность суммы (например, она не может быть отрицательной) и правильность указанной валюты.
   
   - **Valute Convertor Service**:
     Конвертирует сумму в нужную валюту, если требуется, и передает результат для дальнейшей обработки.

   - **Fraud Detection Service**:
     Проверяет платеж на наличие признаков мошенничества. Например, анализирует частоту транзакций от пользователя, соответствие суммы историческим данным и другие факторы.

   - **Logging Service**:
     Сохраняет информацию о транзакции (например, идентификатор заказа, сумму, валюту и статус) в базу данных для последующего анализа и аудита.

3. **Результат**:
   - Если все этапы обработки завершились успешно, пользователю отображается сообщение **"Оплата прошла успешно"**.
   - В случае ошибки на любом из этапов пользователь получает сообщение об отказе в оплате с соответствующей причиной.

---

## Структура проекта

- **`main.py`**:
  Основной файл для запуска всех микросервисов и координации взаимодействия между ними.

- **`web_interface.py`**:
  Файл, реализующий пользовательский веб-интерфейс. Пользователь вводит данные о платеже, которые отправляются для обработки.

- **Директория `services/`**:
  - **`validation_service.py`**:
    Отвечает за валидацию данных, введенных пользователем, таких как формат суммы и выбор валюты.

  - **`fraud_detection_service.py`**:
    Анализирует данные транзакции на предмет мошенничества, используя заранее определенные критерии.

  - **`logging_service.py`**:
    Сохраняет все данные о транзакциях в базе данных для анализа, отчетности и аудита.

  - **`valute_convertor_service.py`**:
    Выполняет конвертацию валют с использованием фиксированных курсов или данных, полученных из внешних источников.

- **`db.py`**:
  Файл для инициализации и настройки базы данных, где хранятся все транзакции.

- **`container_setup.py`**:
  Скрипт для настройки инфраструктуры микросервисов, включая запуск Docker-контейнеров для таких инструментов, как Kafka (для межсервисной коммуникации) и Redis (для временного хранения данных).

---

## Технические аспекты

1. **Веб-интерфейс**:
   Пользователь взаимодействует с системой через простую HTML-форму, которая отправляет данные в основной сервер.

2. **Микросервисы**:
   Каждая задача выполняется отдельным модулем, что упрощает поддержку и тестирование:
   - Валидация данных,
   - Конвертация валют,
   - Проверка на мошенничество,
   - Логирование.

3. **База данных**:
   Используется для хранения всех транзакций, включая их статус, идентификаторы и метаданные.

4. **Инфраструктура**:
   Все компоненты связаны через Kafka для передачи сообщений между сервисами. Redis используется для временного хранения данных (например, промежуточных результатов конвертации).

